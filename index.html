<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Regalos para Samuel</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f7f4ed;
      color: #3e3e3e;
      padding: 20px;
    }
    .header {
      background-color: #e4f3ed;
      border-left: 6px solid #9cbf9a;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
    }
    .section-title {
      font-size: 1.4em;
      margin-top: 30px;
      color: #6a8b66;
    }
    .gift-item {
      background-color: #ffffff;
      border: 1px solid #ccc;
      border-left: 6px solid #c4b197;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
    }
    .gift-item h4 {
      margin: 0 0 5px 0;
    }
    .gift-item button {
      background-color: #88bfa4;
      color: white;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 5px;
    }
    .gift-item button[disabled] {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .form-container {
      margin-top: 10px;
    }
    input, textarea {
      display: block;
      margin-top: 8px;
      padding: 6px;
      width: 95%;
    }
  </style>
</head>
<body>

<div class="header">
  <h2>üíö Elige tu regalito para el Baby Shower de Samuel üêòüåø</h2>
  <p>Hola, familia y amigos:</p>
  <p>Si est√°n leyendo este mensaje es porque son personas muy importantes para mis papitos y para m√≠...</p>
  <!-- (Texto omitido para abreviar) -->
  <p>Con cari√±o üíõ <strong>Samuel</strong></p>
</div>

<div id="lista-regalos"></div>

<script>
  const regalos = [
    {
      categoria: "üß∏ Ropa",
      items: [
        "Cobija T√©rmica + Pa√±al Etapa 4",
        "Cobija Ligera o cobertor + Pa√±al Etapa 4",
        "Sleeping 3 - 6 meses + Pa√±al Etapa 4",
        "Pijama enteriza 3 - 6 meses + Pa√±al Etapa 4",
        "Medias 3 - 6 meses y Gorros + Pa√±al Etapa 4",
        "Rodilleras + medias 6 meses + Pa√±al Etapa 3",
        "Bodys 3- 6 meses + Pa√±al Etapa 3",
        "Bodys 6 - 12 meses + Pa√±al Etapa 3",
        "Conjunto 3 meses + Pa√±al Etapa 3",
        "Conjunto 6 meses + Pa√±al Etapa 3",
        "Sudadera 3 - 6 meses + Pa√±al Etapa 4",
        "Fajeros + Camisas de balletilla 3 - 6 meses",
        "Ruana + Pa√±al etapa 4"
      ]
    },
    {
      categoria: "üõÅ Cuidado e Higiene",
      items: [
        "Kit de ba√±o + Pa√±itos",
        "Kit de aseo + Pa√±itos",
        "Termo 1.5 Ltrs + Pa√±itos",
        "Teteros Avent o Dr. Brown's",
        "Ba√±era o Tina plegable + Pa√±itos",
        "Toalla y Term√≥metro + Pa√±itos",
        "Toallas de Lactancia + Pa√±ales etapa 0",
        "Primera muda + Pa√±ales etapa 1",
        "Baberos en tela + Pa√±al Etapa 3",
        "Babero recolector + Pa√±al Etapa 3",
        "Pa√±alera tipo morral + Pa√±al Etapa 3",
        "Almohada antireflujo + Pa√±itos"
      ]
    },
    {
      categoria: "üß∏ Art√≠culos grandes",
      items: [
        "Coche tipo maleta + Silla de carro",
        "C√≥moda Cambiador (puede ser regalo grupal)",
        "Ropero Closet (puede ser regalo grupal)",
        "Gimnasio",
        "M√≥vil",
        "Tapete Alfombra Plegable Reversible",
        "Cargador Silla Ergon√≥mico",
        "Fular",
        "Set vajilla beb√© silicona",
        "Andadera",
        "Silla comedor"
      ]
    }
  ];

  const contenedor = document.getElementById("lista-regalos");

  regalos.forEach((cat) => {
    const titulo = document.createElement("h3");
    titulo.className = "section-title";
    titulo.textContent = cat.categoria;
    contenedor.appendChild(titulo);

    cat.items.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "gift-item";
      const id = cat.categoria.replace(/\s/g, '') + "-" + index;
      const saved = JSON.parse(localStorage.getItem(id));

      div.innerHTML = `
        <h4 id="label-${id}">${saved ? item + ' (Ya fue elegido por ' + saved.nombre + ')' : item}</h4>
        <button id="boton-${id}" onclick="mostrarFormulario('${id}')" ${saved ? 'disabled' : ''}>Lo elijo üéÅ</button>
        <div class="form-container" id="form-${id}" style="display: none;">
          <input type="text" id="nombre-${id}" placeholder="Tu nombre" />
          <textarea id="mensaje-${id}" placeholder="Mensaje para Samuel (opcional)"></textarea>
          <button onclick="confirmar('${id}')">Confirmar elecci√≥n ‚úÖ</button>
        </div>
      `;
      contenedor.appendChild(div);
    });
  });

  function mostrarFormulario(id) {
    document.getElementById(`form-${id}`).style.display = "block";
    document.getElementById(`boton-${id}`).disabled = true;
  }

  function confirmar(id) {
    const nombre = document.getElementById(`nombre-${id}`).value.trim();
    if (nombre === "") {
      alert("Por favor escribe tu nombre para confirmar el regalo.");
      return;
    }

    // Guardar elecci√≥n en localStorage
    localStorage.setItem(id, JSON.stringify({ nombre }));

    const label = document.getElementById(`label-${id}`);
    label.innerText += ` (Ya fue elegido por ${nombre})`;

    document.getElementById(`form-${id}`).style.display = "none";
    document.getElementById(`boton-${id}`).style.display = "none";
  }
</script>

</body>
</html>
